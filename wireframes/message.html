<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        window.FontAwesomeConfig = {
          autoReplaceSvg: 'nest'
        };
      </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Pupil</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#DC2626',
                        primaryLight: '#FEE2E2',
                        accent: '#F3F4F6'
                    }
                }
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { display: none; }
        body { margin: 0; padding: 0; }
    </style>
</head>
<body class="bg-accent">
    
    <header id="header" class="bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-50 h-16">
        <div class="flex items-center justify-between h-full px-6">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                    <i class="fa-solid fa-car text-white text-xl"></i>
                </div>
                <span class="text-xl font-bold text-gray-900">GoRoadie Driving School</span>
            </div>
            <div class="flex items-center gap-4">
                <button class="relative p-2 text-gray-600 hover:text-gray-900">
                    <i class="fa-regular fa-bell text-xl"></i>
                    <span class="absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"></span>
                </button>
                <div class="flex items-center gap-3 cursor-pointer">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="User" class="w-10 h-10 rounded-full object-cover">
                    <div class="flex flex-col">
                        <span class="text-sm font-semibold text-gray-900">Admin User</span>
                        <span class="text-xs text-gray-500">Administrator</span>
                    </div>
                    <i class="fa-solid fa-chevron-down text-gray-400 text-sm"></i>
                </div>
            </div>
        </div>
    </header>

    <aside id="sidebar" class="fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-gray-200 overflow-y-auto">
        <nav class="p-4">
            <ul class="space-y-1">
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-solid fa-chart-line text-lg w-5"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-regular fa-envelope text-lg w-5"></i>
                        <span>Enquiries</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg bg-primaryLight text-primary font-semibold">
                        <i class="fa-regular fa-user text-lg w-5"></i>
                        <span>Pupils</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-solid fa-users text-lg w-5"></i>
                        <span>Team</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-regular fa-file-lines text-lg w-5"></i>
                        <span>Reports</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-regular fa-folder-open text-lg w-5"></i>
                        <span>Resources</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-solid fa-gear text-lg w-5"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 font-medium">
                        <i class="fa-solid fa-grid-2 text-lg w-5"></i>
                        <span>Apps</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <main id="main-content" class="ml-64 mt-16 p-8">
        
        <section id="pupil-header" class="mb-8">
            <div class="flex items-center gap-4 mb-6">
                <button class="flex items-center gap-2 text-gray-600 hover:text-gray-900">
                    <i class="fa-solid fa-arrow-left"></i>
                    <span class="text-sm font-medium">Back to Pupils</span>
                </button>
            </div>
            
            <div class="bg-white rounded-xl p-8 border border-gray-200">
                <div class="flex items-start justify-between">
                    <div class="flex items-center gap-6">
                        <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Sarah Johnson" class="w-24 h-24 rounded-full object-cover">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-900 mb-2">Sarah Johnson</h1>
                            <div class="flex items-center gap-6 text-gray-600">
                                <div class="flex items-center gap-2">
                                    <i class="fa-solid fa-phone text-sm"></i>
                                    <span class="text-sm">07912 345 678</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <i class="fa-regular fa-envelope text-sm"></i>
                                    <span class="text-sm">sarah.johnson@email.com</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <i class="fa-solid fa-location-dot text-sm"></i>
                                    <span class="text-sm">Manchester, M1 4BT</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button class="px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-red-700 flex items-center gap-2">
                            <i class="fa-solid fa-plus"></i>
                            Add Booking
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="pupil-tabs" class="mb-8">
            <div class="bg-white rounded-xl border border-gray-200">
                <div class="border-b border-gray-200">
                    <nav class="flex">
                        <button id="overview-tab" onclick="switchTab('overview')" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700">Overview</button>
                        <button id="lessons-tab" onclick="switchTab('lessons')" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700">Lessons</button>
                        <button id="message-tab" onclick="switchTab('message')" class="px-6 py-4 text-sm font-semibold text-primary border-b-2 border-primary bg-primaryLight">Messages</button>
                        <button id="actions-tab" onclick="switchTab('actions')" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700">Actions</button>
                    </nav>
                </div>

                <div id="overview-content" class="p-8 hidden">
                    <div class="grid grid-cols-3 gap-6 mb-8">
                        <div class="text-center p-6 bg-blue-50 rounded-xl">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-calendar-check text-blue-600 text-xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-1">24</h3>
                            <p class="text-sm text-gray-500">Total Lessons</p>
                        </div>
                        
                        <div class="text-center p-6 bg-green-50 rounded-xl">
                            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-sterling-sign text-green-600 text-xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-1">£960</h3>
                            <p class="text-sm text-gray-500">Total Revenue</p>
                        </div>
                        
                        <div class="text-center p-6 bg-orange-50 rounded-xl">
                            <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-mobile-screen text-orange-600 text-xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-1">Yes</h3>
                            <p class="text-sm text-gray-500">App Installed</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-3 gap-8">
                        <div class="col-span-2">
                            <div class="mb-8">
                                <h3 class="text-lg font-bold text-gray-900 mb-4">Latest Note</h3>
                                <div class="bg-gray-50 rounded-lg p-6">
                                    <div class="flex items-start justify-between mb-4">
                                        <div class="flex items-center gap-3">
                                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="Instructor" class="w-10 h-10 rounded-full object-cover">
                                            <div>
                                                <p class="text-sm font-semibold text-gray-900">James Wilson</p>
                                                <p class="text-xs text-gray-500">Instructor</p>
                                            </div>
                                        </div>
                                        <span class="text-xs text-gray-500">2 days ago</span>
                                    </div>
                                    <p class="text-sm text-gray-700">Sarah showed excellent improvement in roundabout navigation today. Her confidence has grown significantly, and she's now ready to tackle more complex junction scenarios. We practiced parallel parking which she mastered after 3 attempts. Next lesson will focus on dual carriageways.</p>
                                </div>
                            </div>

                            <div>
                                <h3 class="text-lg font-bold text-gray-900 mb-4">Progress Overview</h3>
                                <div class="space-y-4">
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Overall Progress</span>
                                            <span class="text-sm font-semibold text-gray-900">78%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-3">
                                            <div class="bg-primary h-3 rounded-full" style="width: 78%"></div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Preparation & Safety</span>
                                            <span class="text-sm font-semibold text-gray-900">85%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-green-500 h-2 rounded-full" style="width: 85%"></div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Traffic & Road Awareness</span>
                                            <span class="text-sm font-semibold text-gray-900">72%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-blue-500 h-2 rounded-full" style="width: 72%"></div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Junctions & Roundabouts</span>
                                            <span class="text-sm font-semibold text-gray-900">68%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-yellow-500 h-2 rounded-full" style="width: 68%"></div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Manoeuvres</span>
                                            <span class="text-sm font-semibold text-gray-900">80%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-purple-500 h-2 rounded-full" style="width: 80%"></div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <div class="flex justify-between items-center mb-2">
                                            <span class="text-sm font-medium text-gray-700">Vehicle Controls</span>
                                            <span class="text-sm font-semibold text-gray-900">90%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 rounded-full h-2">
                                            <div class="bg-green-600 h-2 rounded-full" style="width: 90%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-bold text-gray-900 mb-4">Reflective Log</h3>
                            <div class="bg-gray-50 rounded-lg p-6 text-center">
                                <i class="fa-regular fa-file-lines text-4xl text-gray-400 mb-4"></i>
                                <p class="text-sm text-gray-500 mb-4">No reflective log entries yet</p>
                                <button class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-red-700">
                                    Add Entry
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="lessons-content" class="p-8 hidden">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-bold text-gray-900">Lesson History</h3>
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                                <span class="text-sm text-gray-600">Completed</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                                <span class="text-sm text-gray-600">Upcoming</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-yellow-500 rounded-full"></span>
                                <span class="text-sm text-gray-600">Awaiting Payment</span>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-gray-50 rounded-lg p-6 border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900 mb-1">Lesson #24</h4>
                                        <p class="text-sm text-gray-600">15 November 2024 • 14:00-15:30 • James Wilson</p>
                                        <p class="text-sm text-gray-500 mt-1">Roundabouts & Traffic Navigation</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full">Paid</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full">Paid Out</span>
                                    <button onclick="openLessonModal('lesson-24', true)" class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-red-700">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-lg p-6 border-l-4 border-green-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900 mb-1">Lesson #23</h4>
                                        <p class="text-sm text-gray-600">12 November 2024 • 10:00-12:00 • James Wilson</p>
                                        <p class="text-sm text-gray-500 mt-1">Parallel Parking & Manoeuvres</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full">Paid</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full">Paid Out</span>
                                    <button onclick="openLessonModal('lesson-23', true)" class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-red-700">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 rounded-lg p-6 border-l-4 border-yellow-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900 mb-1">Lesson #22</h4>
                                        <p class="text-sm text-gray-600">08 November 2024 • 16:00-17:30 • James Wilson</p>
                                        <p class="text-sm text-gray-500 mt-1">Night Driving Practice</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded-full">Awaiting Payment</span>
                                    <button onclick="openLessonModal('lesson-22', true)" class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-red-700">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900 mb-1">Lesson #25</h4>
                                        <p class="text-sm text-gray-600">18 November 2024 • 15:00-16:30 • James Wilson</p>
                                        <p class="text-sm text-gray-500 mt-1">Dual Carriageways & Motorway Prep</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full">Upcoming</span>
                                    <button onclick="openLessonModal('lesson-25', false)" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700">
                                        Add Resources
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-6">
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900 mb-1">Lesson #26</h4>
                                        <p class="text-sm text-gray-600">22 November 2024 • 14:00-15:30 • James Wilson</p>
                                        <p class="text-sm text-gray-500 mt-1">Test Route Practice</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full">Upcoming</span>
                                    <button onclick="openLessonModal('lesson-26', false)" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700">
                                        Add Resources
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="message-content" class="p-8">
                    <div class="flex flex-col h-[600px]">
                        <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
                            <div class="flex items-center gap-3">
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Sarah Johnson" class="w-12 h-12 rounded-full object-cover">
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900">Sarah Johnson</h3>
                                    <p class="text-sm text-gray-500">Learner Driver</p>
                                </div>
                            </div>
                            <span class="text-xs text-gray-400">Last active 2 hours ago</span>
                        </div>

                        <div id="chat-messages" class="flex-1 overflow-y-auto space-y-4 mb-6 pr-2">
                            <div class="flex items-start gap-3">
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="James Wilson" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="text-sm font-semibold text-gray-900">James Wilson</span>
                                        <span class="text-xs text-gray-400">Yesterday, 10:30 AM</span>
                                    </div>
                                    <div class="bg-gray-100 rounded-2xl rounded-tl-none p-4 max-w-lg">
                                        <p class="text-sm text-gray-800">Hi Sarah! Just wanted to check in about our lesson tomorrow. We'll be focusing on dual carriageways and motorway preparation. Make sure you've had a good look at the Highway Code sections on motorway driving.</p>
                                    </div>
                                    <div class="flex items-center gap-1 mt-1 ml-2">
                                        <i class="fa-solid fa-check-double text-blue-500 text-xs"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="flex items-start gap-3 justify-end">
                                <div class="flex-1 flex flex-col items-end">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="text-xs text-gray-400">Yesterday, 11:15 AM</span>
                                        <span class="text-sm font-semibold text-gray-900">Sarah Johnson</span>
                                    </div>
                                    <div class="bg-primary rounded-2xl rounded-tr-none p-4 max-w-lg">
                                        <p class="text-sm text-white">Thanks James! I've been reading through the motorway sections and watching some videos. I'm a bit nervous but excited to give it a try. Should I bring anything specific?</p>
                                    </div>
                                    <div class="flex items-center gap-1 mt-1 mr-2">
                                        <i class="fa-solid fa-check-double text-blue-500 text-xs"></i>
                                    </div>
                                </div>
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Sarah Johnson" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            </div>

                            <div class="flex items-start gap-3">
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="James Wilson" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="text-sm font-semibold text-gray-900">James Wilson</span>
                                        <span class="text-xs text-gray-400">Yesterday, 11:30 AM</span>
                                    </div>
                                    <div class="bg-gray-100 rounded-2xl rounded-tl-none p-4 max-w-lg">
                                        <p class="text-sm text-gray-800">That's great preparation! Don't worry about being nervous - that's completely normal. Just bring your provisional licence as usual. We'll start with some dual carriageway practice to build your confidence before we think about motorways. You're making excellent progress!</p>
                                    </div>
                                    <div class="flex items-center gap-1 mt-1 ml-2">
                                        <i class="fa-solid fa-check-double text-blue-500 text-xs"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="flex items-start gap-3 justify-end">
                                <div class="flex-1 flex flex-col items-end">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="text-xs text-gray-400">Today, 9:45 AM</span>
                                        <span class="text-sm font-semibold text-gray-900">Sarah Johnson</span>
                                    </div>
                                    <div class="bg-primary rounded-2xl rounded-tr-none p-4 max-w-lg">
                                        <p class="text-sm text-white">Perfect! See you tomorrow at 3pm. Looking forward to it!</p>
                                    </div>
                                    <div class="flex items-center gap-1 mt-1 mr-2">
                                        <i class="fa-solid fa-check-double text-blue-500 text-xs"></i>
                                    </div>
                                </div>
                                <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Sarah Johnson" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            </div>
                        </div>

                        <div class="border-t border-gray-200 pt-4">
                            <div class="flex items-end gap-3">
                                <div class="flex-1 relative">
                                    <textarea id="message-input" rows="1" placeholder="Type your message..." class="w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none text-sm" style="min-height: 48px; max-height: 120px;"></textarea>
                                    <button class="absolute right-3 bottom-3 text-gray-400 hover:text-gray-600">
                                        <i class="fa-regular fa-face-smile text-xl"></i>
                                    </button>
                                </div>
                                <button onclick="sendMessage()" class="px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-red-700 flex items-center gap-2">
                                    <span>Send</span>
                                    <i class="fa-regular fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="actions-content" class="p-8 hidden">
                    <div class="text-center py-12">
                        <i class="fa-solid fa-exclamation-triangle text-4xl text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">No Actions Available</h3>
                        <p class="text-gray-500">There are no actions for this pupil at the moment.</p>
                    </div>
                </div>
            </div>
        </section>

        <script>
            function sendMessage() {
                const input = document.getElementById('message-input');
                const message = input.value.trim();
                
                if (message) {
                    const messagesContainer = document.getElementById('chat-messages');
                    const now = new Date();
                    const timeString = now.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' });
                    
                    const messageHTML = `
                        <div class="flex items-start gap-3">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="James Wilson" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="text-sm font-semibold text-gray-900">James Wilson</span>
                                    <span class="text-xs text-gray-400">Today, ${timeString}</span>
                                </div>
                                <div class="bg-gray-100 rounded-2xl rounded-tl-none p-4 max-w-lg">
                                    <p class="text-sm text-gray-800">${message}</p>
                                </div>
                                <div class="flex items-center gap-1 mt-1 ml-2">
                                    <i class="fa-solid fa-check text-gray-400 text-xs"></i>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    input.value = '';
                    input.style.height = '48px';
                    
                    setTimeout(() => {
                        const lastMessage = messagesContainer.lastElementChild;
                        const checkIcon = lastMessage.querySelector('.fa-check');
                        checkIcon.classList.remove('fa-check', 'text-gray-400');
                        checkIcon.classList.add('fa-check-double', 'text-blue-500');
                    }, 1000);
                }
            }

            document.getElementById('message-input').addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            document.getElementById('message-input').addEventListener('input', function() {
                this.style.height = '48px';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });
        </script>
    </main>
</body>
</html>